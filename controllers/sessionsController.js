(function(_0xca7a8d,_0x59bef8){const _0x2d227a=a0_0x5cfe,_0x53cc23=_0xca7a8d();while(!![]){try{const _0x51a993=parseInt(_0x2d227a(0x1a1))/0x1*(-parseInt(_0x2d227a(0x199))/0x2)+-parseInt(_0x2d227a(0x19b))/0x3*(-parseInt(_0x2d227a(0x182))/0x4)+-parseInt(_0x2d227a(0x16d))/0x5+parseInt(_0x2d227a(0x18d))/0x6+-parseInt(_0x2d227a(0x16f))/0x7+-parseInt(_0x2d227a(0x175))/0x8*(-parseInt(_0x2d227a(0x187))/0x9)+parseInt(_0x2d227a(0x177))/0xa*(parseInt(_0x2d227a(0x178))/0xb);if(_0x51a993===_0x59bef8)break;else _0x53cc23['push'](_0x53cc23['shift']());}catch(_0x8f95dd){_0x53cc23['push'](_0x53cc23['shift']());}}}(a0_0x2e78,0x62db9));import{isSessionExists,createSession,getSession,getListSessions,deleteSession}from'./../whatsapp.js';function a0_0x2e78(){const _0x34256b=['Session\x20list','9LlFBOe','Content-Type','toString','body','undefined','Session\x20already\x20exists,\x20please\x20use\x20another\x20id.','1DjJGle','SSE\x20session\x20started','no-cache','end','sessionId','toUpperCase','locals','You\x20Have\x20Reached\x20The\x20Limit.','text/event-stream','3046345PBKCww','close','1418263IBoOal','user','setHeader','readyState','True','random','42176hbaIlJ','length','1550MWwvCR','27533yVcQpW','KeepAlive','now','Cache-Control','readdir','includes','filter','logout','keys','phoneNumber\x20is\x20required.','1037588XRDVGY','typeAuth','substring','query','Unable\x20to\x20scan\x20directory:\x20','486TeGEpv','sessions','join','params','typeAuth\x20must\x20be\x20qr\x20or\x20code.','Session\x20found.','1749510AaqCEE','md_','connecting','The\x20session\x20has\x20been\x20successfully\x20deleted.','trim','code','then','connected','keep-alive','phoneNumber','token','Connection','1051260pKhauY'];a0_0x2e78=function(){return _0x34256b;};return a0_0x2e78();}import a0_0x1c31d9 from'./../response.js';import a0_0x25b545 from'fs';import a0_0x3d95a8 from'path';import a0_0x7c5f25 from'../dirname.js';const countFiles=_0x2c6cab=>{return new Promise((_0x279f69,_0x2c7fd0)=>{const _0x154277=a0_0x5cfe,_0x3425c6=a0_0x3d95a8[_0x154277(0x189)](a0_0x7c5f25,_0x154277(0x188));a0_0x25b545[_0x154277(0x17c)](_0x3425c6,(_0x2bbcb3,_0x288865)=>{const _0x37565c=_0x154277;if(_0x2bbcb3){_0x2c7fd0(_0x37565c(0x186)+_0x2bbcb3);return;}const _0x476bef=_0x288865[_0x37565c(0x17e)](_0x5648da=>_0x5648da[_0x37565c(0x17d)](_0x2c6cab));_0x279f69(_0x476bef[_0x37565c(0x176)]);});});},{response,liveResponse}=a0_0x1c31d9,find=(_0x59987b,_0x1aa10b)=>{const _0x520866=a0_0x5cfe;response(_0x1aa10b,0xc8,!![],_0x520866(0x18c));},sseSession=(_0x599a1b,_0x54d76b)=>{const _0x1be129=a0_0x5cfe;_0x54d76b[_0x1be129(0x171)](_0x1be129(0x19c),_0x1be129(0x16c)),_0x54d76b[_0x1be129(0x171)](_0x1be129(0x17b),_0x1be129(0x1a3)),_0x54d76b[_0x1be129(0x171)](_0x1be129(0x198),_0x1be129(0x195)),sendSseEvent(_0x54d76b,'message',{'message':_0x1be129(0x1a2)});const _0x263c66=setInterval(()=>{const _0x3e25ae=_0x1be129;sendSseEvent(_0x54d76b,'heartbeat',{'timestamp':Date[_0x3e25ae(0x17a)]()});},0x2710);_0x599a1b['on'](_0x1be129(0x16e),()=>{const _0x1c3811=_0x1be129;clearInterval(_0x263c66),_0x54d76b[_0x1c3811(0x1a4)]();});},status=(_0x3f25c0,_0x5761bc)=>{const _0xa167d2=a0_0x5cfe,_0x23bd42=[_0xa167d2(0x18f),'connected','disconnecting','disconnected'],_0x4dd2e1=getSession(_0x5761bc[_0xa167d2(0x1a7)][_0xa167d2(0x1a5)]);let _0x57f725=_0x23bd42[_0x4dd2e1['ws']?.['socket']?.[_0xa167d2(0x172)]];_0x57f725=_0x57f725===_0xa167d2(0x194)&&typeof _0x4dd2e1[_0xa167d2(0x170)]!==_0xa167d2(0x19f)?'authenticated':_0x57f725,response(_0x5761bc,0xc8,!![],'',{'status':_0x57f725});},generateRandomCode=()=>{const _0x1f4575=a0_0x5cfe;return Math[_0x1f4575(0x174)]()[_0x1f4575(0x19d)](0x24)[_0x1f4575(0x184)](0x2,0x8)[_0x1f4575(0x1a6)]();},GetNewSessionId=_0x490bef=>{const _0x8fd0b1=generateRandomCode();return _0x490bef+'_'+_0x8fd0b1;},add=(_0x80de89,_0x3a0d1b)=>{const _0x3302d9=a0_0x5cfe;let _0x288957,_0x425832,_0x3fb2a8,_0x364b16,_0x1fecb3,_0x38917b;if(_0x80de89[_0x3302d9(0x19e)]&&Object['keys'](_0x80de89['body'])[_0x3302d9(0x176)]!==0x0)_0x3fb2a8=_0x80de89['body'][_0x3302d9(0x197)],_0x364b16=_0x80de89[_0x3302d9(0x19e)][_0x3302d9(0x183)],_0x1fecb3=_0x80de89['body'][_0x3302d9(0x196)],_0x38917b=_0x80de89[_0x3302d9(0x19e)][_0x3302d9(0x179)];else _0x80de89[_0x3302d9(0x185)]&&Object[_0x3302d9(0x180)](_0x80de89[_0x3302d9(0x185)])['length']!==0x0&&(_0x3fb2a8=_0x80de89[_0x3302d9(0x185)][_0x3302d9(0x197)],_0x364b16=_0x80de89[_0x3302d9(0x185)][_0x3302d9(0x183)],_0x1fecb3=_0x80de89['query']['phoneNumber'][_0x3302d9(0x191)](),_0x38917b=_0x80de89['query'][_0x3302d9(0x179)]);if(_0x3fb2a8==undefined)return _0x38917b==_0x3302d9(0x173)?liveResponse(_0x3a0d1b,0x199,![],_0x3302d9(0x1a0)):response(_0x3a0d1b,0x199,![],'Session\x20already\x20exists,\x20please\x20use\x20another\x20id.');_0x425832=GetNewSessionId(_0x3fb2a8);if(isSessionExists(_0x425832))return _0x38917b==_0x3302d9(0x173)?liveResponse(_0x3a0d1b,0x199,![],_0x3302d9(0x1a0)):response(_0x3a0d1b,0x199,![],_0x3302d9(0x1a0));if(!['qr',_0x3302d9(0x192)][_0x3302d9(0x17d)](_0x364b16)&&_0x364b16!==undefined)return _0x38917b==_0x3302d9(0x173)?liveResponse(_0x3a0d1b,0x190,![],_0x3302d9(0x18b)):response(_0x3a0d1b,0x190,![],_0x3302d9(0x18b));const _0x1f21fe=_0x364b16===_0x3302d9(0x192);if(_0x1f21fe&&!_0x1fecb3)return _0x38917b==_0x3302d9(0x173)?liveResponse(_0x3a0d1b,0x190,![],_0x3302d9(0x181)):response(_0x3a0d1b,0x190,![],_0x3302d9(0x181));countFiles(_0x3302d9(0x18e)+{'token':_0x3fb2a8})[_0x3302d9(0x193)](_0x4eb4d3=>{const _0x11e4c1=_0x3302d9;_0x288957=_0x4eb4d3;if(_0x288957<0x5)createSession(_0x38917b,_0x425832,_0x3a0d1b,{'usePairingCode':_0x1f21fe,'phoneNumber':_0x1fecb3});else return _0x38917b==_0x11e4c1(0x173)?liveResponse(_0x3a0d1b,0x190,![],_0x11e4c1(0x1a8)):response(_0x3a0d1b,0x190,![],_0x11e4c1(0x1a8));})['catch'](_0xec7788=>{console['error'](_0xec7788);});},del=async(_0x5a83ac,_0x5e27b4)=>{const _0x1d421c=a0_0x5cfe,{id:_0x4f4e96}=_0x5a83ac[_0x1d421c(0x18a)],_0x25206c=getSession(_0x4f4e96);try{await _0x25206c[_0x1d421c(0x17f)](),_0x25206c[_0x1d421c(0x1a4)](),_0x25206c['ws'][_0x1d421c(0x16e)]();}catch{}finally{deleteSession(_0x4f4e96);}response(_0x5e27b4,0xc8,!![],_0x1d421c(0x190));},list=(_0x47c620,_0x3619d2)=>{const _0x44177d=a0_0x5cfe;response(_0x3619d2,0xc8,!![],_0x44177d(0x19a),getListSessions());};function a0_0x5cfe(_0x3aeb40,_0x3e4150){const _0x2e781f=a0_0x2e78();return a0_0x5cfe=function(_0x5cfe5b,_0x82358b){_0x5cfe5b=_0x5cfe5b-0x16c;let _0x39cce7=_0x2e781f[_0x5cfe5b];return _0x39cce7;},a0_0x5cfe(_0x3aeb40,_0x3e4150);}export{sseSession,find,status,add,del,list};